import{r as u,R as e}from"./index-3bff66e1.js";import{I as D,L as G,U as d,V as c,M as p,m,S as I,s as S}from"./settings-cc329b7d.js";import{D as v,m as g}from"./style-18eb7780.js";import{g as x}from"./groundwaterGeo-4599947a.js";import{u as L,d as h,w as b,W as o,C as k}from"./waterInterps-39213d41.js";import{G as f,l as w}from"./index-37f17cc4.js";import{u as T}from"./useHexMouseEvts-20f15e41.js";import{u as F,B as U}from"./BaseTerrainLayer-87cc4f02.js";import"./scales-7c027d43.js";import"./selectAll-e7e2ad64.js";import"./tile-layer-fb41f257.js";const E=I[0];function K(){const t=L(),i=T({disabled:t.curOption>1,dataDeag:h,deagKey:"DURgs"}),s=F({...t,hextiles:!1}),r={data:b,...t,...i},[n,y]=u.useState(D),C=u.useCallback(({viewId:a,viewState:l})=>{y({one:l,two:l,three:l})},[]);return e.createElement(e.Fragment,null,e.createElement(v,{controller:!0,effects:[G],viewState:n,onViewStateChange:C,getTooltip:s,layerFilter:({layer:a,viewport:l})=>a.id=="slide-terrain"||a.id=="GroundwaterGeo"&&l.id=="one"||a.id=="UDemGeo"&&l.id=="two"||a.id=="DemDiffGeo"&&l.id=="three",views:[new d({id:"one",x:"0%",y:"0%",height:"50%",width:"50%",controller:!0}),new d({id:"two",x:"50%",y:"0%",height:"50%",width:"50%",controller:!0}),new d({id:"three",x:"25%",y:"50%",height:"50%",width:"50%",controller:!0})]},e.createElement(c,{id:"one"},e.createElement(p,{reuseMaps:!0,preventStyleDiffing:!0,mapLib:m,mapStyle:g})),e.createElement(c,{id:"two"},e.createElement(p,{reuseMaps:!0,preventStyleDiffing:!0,mapLib:m,mapStyle:g})),e.createElement(c,{id:"three"},e.createElement(p,{reuseMaps:!0,preventStyleDiffing:!0,mapLib:m,mapStyle:g})),e.createElement(U,{id:"slide-terrain",...r}),e.createElement(f,{id:"GroundwaterGeo",data:x,opacity:1,stroked:!1,filled:!0,getFillColor:a=>[...o.groundwater.interpColor(a.properties.Groundwater[t.speedyCounter]),255],updateTriggers:{getFillColor:[t.speedyCounter]},pickable:!0,autoHighlight:!0}),e.createElement(f,{id:"UDemGeo",data:h,opacity:1,stroked:!1,filled:!0,getFillColor:a=>[...o.unmetDemand.interpColor(a.properties.UnmetDemand[E][t.speedyCounter]),255],updateTriggers:{getFillColor:[t.speedyCounter]},pickable:!0,autoHighlight:!0}),e.createElement(f,{id:"DemDiffGeo",data:h,opacity:1,stroked:!1,filled:!0,getFillColor:a=>[...o.difference.interpColor(a.properties.UnmetDemand[E][t.speedyCounter]-a.properties.UnmetDemandBaseline[t.speedyCounter]),255],updateTriggers:{getFillColor:[t.speedyCounter]},pickable:!0,autoHighlight:!0})),e.createElement(M,{...r}))}function M({speedyCounter:t,setSpeedyCounter:i,playing:s,setPlaying:r}){return e.createElement(e.Fragment,null,e.createElement(k,{counter:t,displayMonth:!1,dataset:"averageDemandBaseline"}),e.createElement(R,null),e.createElement("div",{className:"styled-input",style:{bottom:"20px"}},e.createElement("button",{onClick:()=>{r(n=>!n)}},s?"Pause":"Play"),e.createElement("input",{onChange:function(n){r(!1),i(parseInt(n.target.value))},onInput:function(n){i(parseInt(n.target.value))},value:t,style:{width:"40vw",display:"block"},type:"range",min:"0",max:"1199",id:"myRange"}),e.createElement("input",{style:{width:"10ch",display:"block"},type:"number",value:t,onChange:function(n){i(parseInt(n.target.value))}})))}function R({}){const t=u.useRef();return u.useLayoutEffect(()=>{S(t.current).attr("width",400).attr("height",500).call(function(r){r.append("g").call(w.simpleLegend(null,250,20,".2s").title("GW (ft)").size(250).height(20).scale(o.groundwater.colorsStepped).x(400-280).y(500-240))}).call(function(r){r.append("g").call(w.simpleLegend(null,250,20,".2s").title("Scenario Unmet (600 TAF/km2)").size(250).height(20).scale(o.unmetDemandPositive.colorsStepped).x(400-280).y(500-170))}).call(function(r){r.append("g").call(w.simpleLegend(null,250,20,".2s").title("Diff. w/ BL (600 TAF / km2)").size(250).height(20).scale(o.difference.colorsStepped).x(400-280).y(500-100))})},[]),e.createElement("svg",{className:"legend-area",ref:t})}export{K as default};
