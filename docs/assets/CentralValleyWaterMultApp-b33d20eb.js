import{r as u,R as e}from"./index-47bc6533.js";import{I as D,L as G,V as d,W as c,M as m,m as p,S as I,s as S}from"./settings-3f87ae0a.js";import{D as v,m as g}from"./style-86da10a9.js";import{g as x}from"./groundwaterGeo-46c54bcf.js";import{u as L,d as h,w as b,W as o,C as k}from"./waterInterps-a0e402f2.js";import{G as f,l as w}from"./index-230f96f1.js";import{u as T}from"./useHexMouseEvts-e2c6d0a8.js";import{u as F}from"./useHexTooltip-f3d2ccc2.js";import{B as M}from"./BaseTerrainLayer-81f4af71.js";import"./scales-0efcb647.js";import"./selectAll-b7696bd5.js";import"./tile-layer-0fe13059.js";const E=I[0];function j(){const t=L(),i=T({disabled:t.curOption>1,dataDeag:h,deagKey:"DURgs"}),s=F({...t,hextiles:!1}),a={data:b,...t,...i},[n,y]=u.useState(D),C=u.useCallback(({viewId:r,viewState:l})=>{y({one:l,two:l,three:l})},[]);return e.createElement(e.Fragment,null,e.createElement(v,{controller:!0,effects:[G],viewState:n,onViewStateChange:C,getTooltip:s,layerFilter:({layer:r,viewport:l})=>r.id=="slide-terrain"||r.id=="GroundwaterGeo"&&l.id=="one"||r.id=="UDemGeo"&&l.id=="two"||r.id=="DemDiffGeo"&&l.id=="three",views:[new d({id:"one",x:"0%",y:"0%",height:"50%",width:"50%",controller:!0}),new d({id:"two",x:"50%",y:"0%",height:"50%",width:"50%",controller:!0}),new d({id:"three",x:"25%",y:"50%",height:"50%",width:"50%",controller:!0})]},e.createElement(c,{id:"one"},e.createElement(m,{reuseMaps:!0,preventStyleDiffing:!0,mapLib:p,mapStyle:g})),e.createElement(c,{id:"two"},e.createElement(m,{reuseMaps:!0,preventStyleDiffing:!0,mapLib:p,mapStyle:g})),e.createElement(c,{id:"three"},e.createElement(m,{reuseMaps:!0,preventStyleDiffing:!0,mapLib:p,mapStyle:g})),e.createElement(M,{id:"slide-terrain",...a}),e.createElement(f,{id:"GroundwaterGeo",data:x,opacity:1,stroked:!1,filled:!0,getFillColor:r=>[...o.groundwater.interpColor(r.properties.Groundwater[t.speedyCounter]),255],updateTriggers:{getFillColor:[t.speedyCounter]},pickable:!0,autoHighlight:!0}),e.createElement(f,{id:"UDemGeo",data:h,opacity:1,stroked:!1,filled:!0,getFillColor:r=>[...o.unmetDemand.interpColor(r.properties.UnmetDemand[E][t.speedyCounter]),255],updateTriggers:{getFillColor:[t.speedyCounter]},pickable:!0,autoHighlight:!0}),e.createElement(f,{id:"DemDiffGeo",data:h,opacity:1,stroked:!1,filled:!0,getFillColor:r=>[...o.difference.interpColor(r.properties.UnmetDemand[E][t.speedyCounter]-r.properties.UnmetDemandBaseline[t.speedyCounter]),255],updateTriggers:{getFillColor:[t.speedyCounter]},pickable:!0,autoHighlight:!0})),e.createElement(U,{...a}))}function U({speedyCounter:t,setSpeedyCounter:i,playing:s,setPlaying:a}){return e.createElement(e.Fragment,null,e.createElement(k,{counter:t,displayMonth:!1,dataset:"averageDemandBaseline"}),e.createElement(R,null),e.createElement("div",{className:"styled-input",style:{bottom:"20px"}},e.createElement("button",{onClick:()=>{a(n=>!n)}},s?"Pause":"Play"),e.createElement("input",{onChange:function(n){a(!1),i(parseInt(n.target.value))},onInput:function(n){i(parseInt(n.target.value))},value:t,style:{width:"40vw",display:"block"},type:"range",min:"0",max:"1199",id:"myRange"}),e.createElement("input",{style:{width:"10ch",display:"block"},type:"number",value:t,onChange:function(n){i(parseInt(n.target.value))}})))}function R({}){const t=u.useRef();return u.useLayoutEffect(()=>{S(t.current).attr("width",400).attr("height",500).call(function(a){a.append("g").call(w.simpleLegend(null,250,20,".2s").title("GW (ft)").size(250).height(20).scale(o.groundwater.colorsStepped).x(400-280).y(500-240))}).call(function(a){a.append("g").call(w.simpleLegend(null,250,20,".2s").title("Scenario Unmet (600 TAF/km2)").size(250).height(20).scale(o.unmetDemandPositive.colorsStepped).x(400-280).y(500-170))}).call(function(a){a.append("g").call(w.simpleLegend(null,250,20,".2s").title("Diff. w/ BL (600 TAF / km2)").size(250).height(20).scale(o.difference.colorsStepped).x(400-280).y(500-100))})},[]),e.createElement("svg",{className:"legend-area",ref:t})}export{j as default};
