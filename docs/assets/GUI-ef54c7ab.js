import{r as c,R as t}from"./index-47bc6533.js";import{W as d,C as b}from"./waterInterps-a0e402f2.js";import{s as y,h as E,e as L,f as T,g as P,k as U,o as A,p as h}from"./settings-3f87ae0a.js";import{g as w,a as k,U as u}from"./overlay-27be0fdc.js";import{l as I}from"./index-230f96f1.js";import{s as g}from"./selectAll-b7696bd5.js";function W({res:n,useVsup:e,setUseVsup:x,showAllRings:i,setShowAllRings:v}){const m=c.useRef(),f=c.useRef();return c.useEffect(()=>{g(".lin-legend").style("visibility",e?"hidden":"visible"),g(".vsup-legend-v").style("visibility",e?"visible":"hidden"),g(".vsup-legend-u").attr("transform",`translate(0,${e?0:50})`),g(".box1").attr("transform",`translate(0,${e?0:150})`).attr("height",e?250:100).attr("width",e?250:300),g(".box2").attr("transform",`translate(0,${e?0:60})`).attr("height",e?170:110)},[e]),c.useEffect(()=>{y("#diff-u").html("").call(E(d.difference,"Diff. w/ BL (600 TAF/km2)",i))},[i]),c.useLayoutEffect(()=>{const r=y(m.current).attr("width",window.innerWidth).attr("height",window.innerHeight),a=200,l=window.innerWidth,s=r.append("g").attr("transform",`translate(0,${window.innerHeight-a})`);s.append("g").attr("transform",`translate(0,${a-250})`).append("rect").attr("class","box1").attr("height",250).attr("width",250).attr("fill","white"),s.append("g").attr("transform",`translate(0,${a-170})`).append("rect").attr("class","box2").attr("height",170).attr("width",920).attr("x",350).attr("fill","white"),s.append("g").attr("class","vsup-legend-v").append("g").call(L().vtitle("GW (ft)").utitle("Variance").scale(d.groundwater.vsup).size(150).x(40).y(a-150-40)),s.append("g").attr("class","lin-legend").append("g").call(I.simpleLegend(null,250,20,".2s").title("GW (ft)").size(250).height(20).scale(d.groundwater.colorsStepped).x(20).y(a-70));let o=400,p=a-120;s.append("g").attr("transform",`translate(${o},${p})`).append("g").attr("class","vsup-legend-u").attr("id","diff-u").call(E(d.difference,"Diff. w/ BL (600 TAF/km2)",i)),s.append("g").attr("transform",`translate(${o},${p+20})`).append("g").attr("class","vsup-legend-v").call(T(d.difference)),o=750,p=a-120,s.append("g").attr("transform",`translate(${o},${p})`).append("g").attr("class","vsup-legend-u").call(P(d.unmetDemandPositive,"assets/drop.png","Scenario Unmet (600 TAF/km2)")),s.append("g").attr("transform",`translate(${o},${p+55})`).append("g").attr("class","vsup-legend-v").call(U(d.unmetDemandPositive,"assets/drop.png")),s.append("g").attr("transform",`translate(${l-60},${a-80})`).call(A(0,0,50,"rgba(146, 146, 146, 0.5)")).call(function($){f.current=[$.append("text").attr("x",0).attr("y",8).attr("text-anchor","middle").style("font-weight","bold").style("blend-mode","multiply").text(`${h(".2s")(w(n,u.km2))} km²`),$.append("text").attr("x",0).attr("y",55).attr("text-anchor","middle").style("font-size","11px").text(`← ${h(".2s")(k(n,u.km))} km →;`)]})},[]),c.useEffect(()=>{let[r,a]=f.current;r.text(`${h(".2s")(w(n,u.km2))} km²`),a.text(`← ${h(".2s")(k(n,u.km))} km →;`)},[n]),t.createElement(t.Fragment,null,t.createElement("svg",{className:"legend-area",ref:m}),t.createElement("div",{className:"study-input"},t.createElement("input",{type:"checkbox",checked:e,onChange:()=>x(r=>!r)}),t.createElement("span",null,"Use VSUP"),t.createElement("input",{type:"checkbox",checked:i,onChange:()=>v(r=>!r)}),t.createElement("span",null,"Show All Rings")))}function H({speedyCounter:n,setSpeedyCounter:e,playing:x,setPlaying:i,res:v,useVsup:m,setUseVsup:f,showAllRings:r,setShowAllRings:a}){return t.createElement(t.Fragment,null,t.createElement(b,{counter:n,displayMonth:!1,dataset:"averageDemandBaseline"}),t.createElement(W,{res:v,useVsup:m,setUseVsup:f,showAllRings:r,setShowAllRings:a}),t.createElement("div",{className:"styled-input"},t.createElement("button",{onClick:()=>{i(l=>!l)}},x?"Pause":"Play"),t.createElement("input",{onChange:function(l){i(!1),e(parseInt(l.target.value))},onInput:function(l){e(parseInt(l.target.value))},value:n,style:{width:"40vw",display:"block"},type:"range",min:"0",max:"1199",id:"myRange"}),t.createElement("input",{style:{width:"10ch",display:"block"},type:"number",value:n,onChange:function(l){e(parseInt(l.target.value))}})))}export{H as G};
